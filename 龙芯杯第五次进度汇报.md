# 龙芯杯第五次进度汇报

### 进度总览

1. 完成添加9个异常寄存器与5条异常指令（EXP12）

### EXP12

问题与解决：

1. 在写csrfile时，为了与regfile统一，也使用了mem作为寄存器堆。但是与regfile不同，csr寄存器需要初值，一开始没有注意，导致调试了一会儿。其实需要初值的话，就不适合用mem了，因为mem没有自带的初始化，但为了统一还是用了mem嘻嘻。
2. 添加完5条新指令，调试后才发现忘记修改EXE阶段的前递数据了。以后在添加指令时，需要实时关注指令写回数据生效时间，并修改前递电路。
3. 感觉开始写的“存放上一流水级”的寄存器相关代码太复杂了，修改成了RegEnable的写法，精简很多。要是能把流向下一流水级的相关代码也精简一下就好了，现在只能一个一个连线，有点烦。